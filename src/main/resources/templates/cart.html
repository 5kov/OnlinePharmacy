<!DOCTYPE html>
<html lang="en">
<head th:replace="fragments/commons::head"></head>
<body>
<div class="container">
    <header th:replace="fragments/commons::header"></header>

        <div class="form">
            <div class="flex-container-cart">
                <div>
                    <h2 th:text="#{shopping_cart}">Shopping Cart</h2>
                    <div th:if="${errorMessage}">
                        <p th:text="${errorMessage}" style="color: red;"></p>
                    </div>
                    <div th:each="item : ${cartItems}">
                        <div>
                            <img th:src="@{'/img/' + ${item.medicine.getImageUrl()}}" alt="Product Image" style="width:100px; height:100px;"/>
                            <p th:text="__${#locale}__=='bg_BG' ? ${item.medicine.medicineNameBg} : ${item.medicine.medicineNameEn}">Medicine Name</p>
                            <p th:text="${#numbers.formatDecimal(item.medicine.price, 1, 2)}">Price</p>
                            <form th:action="@{'/update-order/' + ${item.id}}" method="post">
                                <input type="number" name="quantity" th:value="${item.quantity}" class="input-field" min="1"/>
                                <button type="submit" class="button" th:text="#{update}">Update</button>
                            </form>
                            <form th:action="@{'/delete-order/' + ${item.id}}" method="post">
                                <button type="submit" class="button" th:text="#{delete}">Delete</button>
                            </form>
                        </div>
                    </div>
                    <p th:text="#{total_price}">Total Price<span>: </span><span th:text="${#numbers.formatDecimal(totalPrice, 1, 2)}"></span></p>

                    <form th:action="@{/order}" method="post">
                        <button type="submit" class="button" th:text="#{place_order}">Place Order</button>
                    </form>
                </div>
            </div>
        </div>


    <footer th:replace="fragments/commons::footer"></footer>
</div>
</body>
</html>